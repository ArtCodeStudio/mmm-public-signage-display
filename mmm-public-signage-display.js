!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Module.register("mmm-public-signage-display",{defaults:{text:"Hello World!"},start(){Log.log(`[${this.name}] started`,MM);const e=io("http://localhost:8080");e.on("connection",e=>{Log.log(`[${this.name}] socketGlobal connection`)}),e.on("SHOW_ALERT",e=>{Log.log(`[${this.name}] global SHOW_ALERT`,e)}),e.on("notification",(e,t)=>{Log.log(`[${this.name}] global notification`,e,t)});io("/mmm-public-signage-display");e.on("connection",e=>{Log.log(`[${this.name}] socketModule connection`)}),e.on("SHOW_ALERT",e=>{Log.log(`[${this.name}] module SHOW_ALERT`,e)}),e.on("notification",(e,t)=>{Log.log(`[${this.name}] module notification`,e,t)})},getTemplate(){return Log.log(`[${this.name}] getTemplate`),"<div>Hello {{text | safe}}</div>"},getTemplateData(){return Log.log(`[${this.name}] getTemplateData`),this.config}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIk1vZHVsZSIsInJlZ2lzdGVyIiwiZGVmYXVsdHMiLCJ0ZXh0IiwiW29iamVjdCBPYmplY3RdIiwiTG9nIiwibG9nIiwidGhpcyIsIk1NIiwic29ja2V0R2xvYmFsIiwiaW8iLCJvbiIsInNvY2tldCIsImRhdGEiLCJldmVudCIsImNvbmZpZyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsbUZDdEVBQyxPQUFPQyxTQUFTLDZCQUE4QixDQUU1Q0MsU0FBVSxDQUNSQyxLQUFNLGdCQTRCUkMsUUFDRUMsSUFBSUMsUUFBUUMsS0FBS2hDLGdCQUFpQmlDLElBQ2xDLE1BQU1DLEVBQWVDLEdBQUcseUJBQ3hCRCxFQUFhRSxHQUFHLGFBQWVDLElBQzdCUCxJQUFJQyxRQUFRQyxLQUFLaEMsbUNBWW5Ca0MsRUFBYUUsR0FBRyxhQUFlRSxJQUM3QlIsSUFBSUMsUUFBUUMsS0FBS2hDLDBCQUEyQnNDLEtBRTlDSixFQUFhRSxHQUFHLGVBQWdCLENBQUNHLEVBQU9ELEtBQ3RDUixJQUFJQyxRQUFRQyxLQUFLaEMsNEJBQTZCdUMsRUFBT0QsS0FFbENILEdBQUcsK0JBQ3hCRCxFQUFhRSxHQUFHLGFBQWVDLElBQzdCUCxJQUFJQyxRQUFRQyxLQUFLaEMsbUNBWW5Ca0MsRUFBYUUsR0FBRyxhQUFlRSxJQUM3QlIsSUFBSUMsUUFBUUMsS0FBS2hDLDBCQUEyQnNDLEtBRTlDSixFQUFhRSxHQUFHLGVBQWdCLENBQUNHLEVBQU9ELEtBQ3RDUixJQUFJQyxRQUFRQyxLQUFLaEMsNEJBQTZCdUMsRUFBT0QsTUFpRXpEVCxjQUVFLE9BREFDLElBQUlDLFFBQVFDLEtBQUtoQyxxQkFDVixvQ0FHVDZCLGtCQUVFLE9BREFDLElBQUlDLFFBQVFDLEtBQUtoQyx5QkFDVmdDLEtBQUtRIiwiZmlsZSI6Im1tbS1wdWJsaWMtc2lnbmFnZS1kaXNwbGF5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgSU1NTG9nLCBJTW9kdWxlUmVnaXN0ZXIsIElDbGllbnRNb2R1bGVJbnN0YW5jZSB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBNYW5hZ2VyIH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFnaWNNaXJyb3JIZWxwZXIge1xuICBnZXRNb2R1bGVzKCk6IElDbGllbnRNb2R1bGVJbnN0YW5jZVtdO1xufVxuXG5kZWNsYXJlIGNvbnN0IE1vZHVsZTogSU1vZHVsZVJlZ2lzdGVyO1xuZGVjbGFyZSBjb25zdCBMb2c6IElNTUxvZztcbmRlY2xhcmUgY29uc3QgTU06IE1hZ2ljTWlycm9ySGVscGVyO1xuZGVjbGFyZSBjb25zdCBpbzogdHlwZW9mIE1hbmFnZXI7XG5cbk1vZHVsZS5yZWdpc3RlcignbW1tLXB1YmxpYy1zaWduYWdlLWRpc3BsYXknLCB7XG4gIC8vIERlZmF1bHQgbW9kdWxlIGNvbmZpZy5cbiAgZGVmYXVsdHM6IHtcbiAgICB0ZXh0OiAnSGVsbG8gV29ybGQhJyxcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gYSBtb2R1bGUgZ2V0cyBpbnN0YW50aWF0ZWQuXG4gICAqIEluIG1vc3QgY2FzZXMgeW91IGRvIG5vdCBuZWVkIHRvIHN1YmNsYXNzIHRoaXMgbWV0aG9kLlxuICAgKi9cbiAgLy8gaW5pdCgpOiB2b2lkIHtcbiAgLy8gICBMb2cubG9nKGBbJHt0aGlzLm5hbWV9XSBpbml0YCk7XG4gIC8vIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIGEgbW9kdWxlIGlzIGxvYWRlZC5cbiAgICogU3Vic2VxdWVudCBtb2R1bGVzIGluIHRoZSBjb25maWcgYXJlIG5vdCB5ZXQgbG9hZGVkLlxuICAgKiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gTVVTVCBiZSBjYWxsZWQgd2hlbiB0aGUgbW9kdWxlIGlzIGRvbmUgbG9hZGluZy5cbiAgICogSW4gbW9zdCBjYXNlcyB5b3UgZG8gbm90IG5lZWQgdG8gc3ViY2xhc3MgdGhpcyBtZXRob2QuXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgLy8gbG9hZGVkKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gbG9hZGVkYCk7XG4gIC8vICAgY2FsbGJhY2soKTtcbiAgLy8gfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gYWxsIG1vZHVsZXMgYXJlIGxvYWRlZCBhbiB0aGUgc3lzdGVtIGlzIHJlYWR5IHRvIGJvb3QgdXAuXG4gICAqIEtlZXAgaW4gbWluZCB0aGF0IHRoZSBkb20gb2JqZWN0IGZvciB0aGUgbW9kdWxlIGlzIG5vdCB5ZXQgY3JlYXRlZC5cbiAgICogVGhlIHN0YXJ0IG1ldGhvZCBpcyBhIHBlcmZlY3QgcGxhY2UgdG8gZGVmaW5lIGFueSBhZGRpdGlvbmFsIG1vZHVsZSBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gc3RhcnRlZGAsIE1NKTtcbiAgICBjb25zdCBzb2NrZXRHbG9iYWwgPSBpbygnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgc29ja2V0R2xvYmFsLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gc29ja2V0R2xvYmFsIGNvbm5lY3Rpb25gKTtcbiAgICB9KTtcbiAgICAvLyBjb25zdCBvbmV2ZW50ID0gKHNvY2tldEdsb2JhbCBhcyBhbnkpLm9uZXZlbnQ7XG4gICAgLy8gKHNvY2tldEdsb2JhbCBhcyBhbnkpLm9uZXZlbnQgPSAocGFja2V0KSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgICAvLyAgICAgb25ldmVudC5jYWxsICh0aGlzLCBwYWNrZXQpOyAgICAvLyBvcmlnaW5hbCBjYWxsXG4gICAgLy8gICAgIHBhY2tldC5kYXRhID0gWycqJ10uY29uY2F0KGFyZ3MpO1xuICAgIC8vICAgICBvbmV2ZW50LmNhbGwodGhpcywgcGFja2V0KTsgICAgICAvLyBhZGRpdGlvbmFsIGNhbGwgdG8gY2F0Y2gtYWxsXG4gICAgLy8gfTtcbiAgICAvLyBzb2NrZXRHbG9iYWwub24oJyonLCAoZXZlbnQsIGRhdGEpID0+IHtcbiAgICAvLyAgIExvZy5sb2coYFske3RoaXMubmFtZX1dIG5vdGlmeWAsIGV2ZW50LCBkYXRhKTtcbiAgICAvLyB9KTtcbiAgICBzb2NrZXRHbG9iYWwub24oJ1NIT1dfQUxFUlQnLCAoZGF0YSkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gZ2xvYmFsIFNIT1dfQUxFUlRgLCBkYXRhKTtcbiAgICB9KTtcbiAgICBzb2NrZXRHbG9iYWwub24oJ25vdGlmaWNhdGlvbicsIChldmVudCwgZGF0YSkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gZ2xvYmFsIG5vdGlmaWNhdGlvbmAsIGV2ZW50LCBkYXRhKTtcbiAgICB9KTtcbiAgICBjb25zdCBzb2NrZXRNb2R1bGUgPSBpbygnL21tbS1wdWJsaWMtc2lnbmFnZS1kaXNwbGF5Jyk7XG4gICAgc29ja2V0R2xvYmFsLm9uKCdjb25uZWN0aW9uJywgKHNvY2tldCkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gc29ja2V0TW9kdWxlIGNvbm5lY3Rpb25gKTtcbiAgICB9KTtcbiAgICAvLyBjb25zdCBvbmV2ZW50TW9kdWxlID0gKHNvY2tldE1vZHVsZSBhcyBhbnkpLm9uZXZlbnQ7XG4gICAgLy8gKHNvY2tldE1vZHVsZSBhcyBhbnkpLm9uZXZlbnQgPSAocGFja2V0KSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgICAvLyAgICAgb25ldmVudE1vZHVsZS5jYWxsICh0aGlzLCBwYWNrZXQpOyAgICAvLyBvcmlnaW5hbCBjYWxsXG4gICAgLy8gICAgIHBhY2tldC5kYXRhID0gWycqJ10uY29uY2F0KGFyZ3MpO1xuICAgIC8vICAgICBvbmV2ZW50TW9kdWxlLmNhbGwodGhpcywgcGFja2V0KTsgICAgICAvLyBhZGRpdGlvbmFsIGNhbGwgdG8gY2F0Y2gtYWxsXG4gICAgLy8gfTtcbiAgICAvLyBzb2NrZXRNb2R1bGUub24oJyonLCAoZXZlbnQsIGRhdGEpID0+IHtcbiAgICAvLyAgIExvZy5sb2coYFske3RoaXMubmFtZX1dIG5vdGlmeWAsIGV2ZW50LCBkYXRhKTtcbiAgICAvLyB9KTtcbiAgICBzb2NrZXRHbG9iYWwub24oJ1NIT1dfQUxFUlQnLCAoZGF0YSkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gbW9kdWxlIFNIT1dfQUxFUlRgLCBkYXRhKTtcbiAgICB9KTtcbiAgICBzb2NrZXRHbG9iYWwub24oJ25vdGlmaWNhdGlvbicsIChldmVudCwgZGF0YSkgPT4ge1xuICAgICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gbW9kdWxlIG5vdGlmaWNhdGlvbmAsIGV2ZW50LCBkYXRhKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGdldFNjcmlwdHMgbWV0aG9kIGlzIGNhbGxlZCB0byByZXF1ZXN0IGFueSBhZGRpdGlvbmFsIHNjcmlwdHMgdGhhdCBuZWVkIHRvIGJlIGxvYWRlZC5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIHRoZXJlZm9yZSByZXR1cm4gYW4gYXJyYXkgd2l0aCBzdHJpbmdzLlxuICAgKiBJZiB5b3Ugd2FudCB0byByZXR1cm4gYSBmdWxsIHBhdGggdG8gYSBmaWxlIGluIHRoZSBtb2R1bGUgZm9sZGVyLCB1c2UgdGhlIGB0aGlzLmZpbGUoJ2ZpbGVuYW1lLmpzJylgIG1ldGhvZC5cbiAgICogSW4gYWxsIGNhc2VzIHRoZSBsb2FkZXIgd2lsbCBvbmx5IGxvYWQgYSBmaWxlIG9uY2UuXG4gICAqIEl0IGV2ZW4gY2hlY2tzIGlmIHRoZSBmaWxlIGlzIGF2YWlsYWJsZSBpbiB0aGUgZGVmYXVsdCB2ZW5kb3IgZm9sZGVyLlxuICAgKi9cbiAgLy8gZ2V0U2NyaXB0cygpOiBzdHJpbmdbXSB7XG4gIC8vICAgcmV0dXJuIFt0aGlzLmZpbGUoJ2NsaWVudC9zY3JpcHRzL2FwcC5qcycpXTtcbiAgLy8gfSxcblxuICAvKipcbiAgICogVGhlIGdldFN0eWxlcyBtZXRob2QgaXMgY2FsbGVkIHRvIHJlcXVlc3QgYW55IGFkZGl0aW9uYWwgc3R5bGVzaGVldHMgdGhhdCBuZWVkIHRvIGJlIGxvYWRlZC5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIHRoZXJlZm9yZSByZXR1cm4gYW4gYXJyYXkgd2l0aCBzdHJpbmdzLlxuICAgKiBJZiB5b3Ugd2FudCB0byByZXR1cm4gYSBmdWxsIHBhdGggdG8gYSBmaWxlIGluIHRoZSBtb2R1bGUgZm9sZGVyLCB1c2UgdGhlIGB0aGlzLmZpbGUoJ2ZpbGVuYW1lLmNzcycpYCBtZXRob2QuXG4gICAqIEluIGFsbCBjYXNlcyB0aGUgbG9hZGVyIHdpbGwgb25seSBsb2FkIGEgZmlsZSBvbmNlLlxuICAgKiBJdCBldmVuIGNoZWNrcyBpZiB0aGUgZmlsZSBpcyBhdmFpbGFibGUgaW4gdGhlIGRlZmF1bHQgdmVuZG9yIGZvbGRlci5cbiAgICovXG4gIC8vIGdldFN0eWxlcygpOiBzdHJpbmdbXSB7XG4gIC8vICAgcmV0dXJuIFt0aGlzLmZpbGUoJ2NsaWVudC9zdHlsZXMvbW9kdWxlLWNvbnRyb2wuY3NzJyldO1xuICAvLyB9LFxuXG4gIC8qKlxuICAgKiBUaGUgZ2V0VHJhbnNsYXRpb25zIG1ldGhvZCBpcyBjYWxsZWQgdG8gcmVxdWVzdCB0cmFuc2xhdGlvbiBmaWxlcyB0aGF0IG5lZWQgdG8gYmUgbG9hZGVkLlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgdGhlcmVmb3JlIHJldHVybiBhIGRpY3Rpb25hcnkgd2l0aCB0aGUgZmlsZXMgdG8gbG9hZCwgaWRlbnRpZmllZCBieSB0aGUgY291bnRyeSdzIHNob3J0IG5hbWUuXG4gICAqIElmIHRoZSBtb2R1bGUgZG9lcyBub3QgaGF2ZSBhbnkgbW9kdWxlIHNwZWNpZmljIHRyYW5zbGF0aW9ucywgdGhlIGZ1bmN0aW9uIGNhbiBqdXN0IGJlIG9taXR0ZWQgb3IgcmV0dXJuIGBmYWxzZWAuXG4gICAqL1xuICAvLyBnZXRUcmFuc2xhdGlvbnMoKSB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gZ2V0VHJhbnNsYXRpb25zYCk7XG4gIC8vICAgcmV0dXJuIHtcbiAgLy8gICAgIGVuOiAndHJhbnNsYXRpb25zL2VuLmpzb24nLFxuICAvLyAgICAgZGU6ICd0cmFuc2xhdGlvbnMvZGUuanNvbidcbiAgLy8gICB9XG4gIC8vIH0sXG5cbiAgLyoqXG4gICAqIFdoZW5ldmVyIHRoZSBNYWdpY01pcnJvciBuZWVkcyB0byB1cGRhdGUgdGhlIGluZm9ybWF0aW9uIG9uIHNjcmVlblxuICAgKiAoYmVjYXVzZSBpdCBzdGFydHMsIG9yIGJlY2F1c2UgeW91ciBtb2R1bGUgYXNrZWQgYSByZWZyZXNoIHVzaW5nIHRoaXMudXBkYXRlRG9tKCkpLFxuICAgKiB0aGUgc3lzdGVtIGNhbGxzIHRoZSBnZXREb20gbWV0aG9kLiBUaGlzIG1ldGhvZCBzaG91bGQgdGhlcmVmb3JlIHJldHVybiBhIGRvbSBvYmplY3QuXG4gICAqL1xuICAvLyBnZXREb20oKTogSFRNTEVsZW1lbnQge1xuICAvLyAgIExvZy5sb2coYFske3RoaXMubmFtZX1dIGdldERvbWApO1xuICAvLyAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgLy8gICB3cmFwcGVyLmlubmVySFRNTCA9ICdIZWxsbyB3b3JsZCEnO1xuICAvLyAgIHJldHVybiB3cmFwcGVyO1xuICAvLyB9LFxuXG4gIC8qKlxuICAgKiBXaGVuZXZlciB0aGUgTWFnaWNNaXJyb3IgbmVlZHMgdG8gdXBkYXRlIHRoZSBpbmZvcm1hdGlvbiBvbiBzY3JlZW4gKGJlY2F1c2UgaXQgc3RhcnRzLFxuICAgKiBvciBiZWNhdXNlIHlvdXIgbW9kdWxlIGFza2VkIGEgcmVmcmVzaCB1c2luZyBgdGhpcy51cGRhdGVEb20oKWApLFxuICAgKiB0aGUgc3lzdGVtIGNhbGxzIHRoZSBnZXRIZWFkZXIgbWV0aG9kIHRvIHJldHJpZXZlIHRoZSBtb2R1bGUncyBoZWFkZXIuXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCB0aGVyZWZvciByZXR1cm4gYSBzdHJpbmcuIElmIHRoaXMgbWV0aG9kIGlzIG5vdCBzdWJjbGFzc2VkLFxuICAgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBoZWFkZXIuXG4gICAqXG4gICAqIElmIHlvdSB3YW50IHRvIHVzZSB0aGUgb3JpZ2luYWwgdXNlcidzIGNvbmZpZ3VyZWQgaGVhZGVyLCByZWZlcmVuY2UgYHRoaXMuZGF0YS5oZWFkZXJgLlxuICAgKi9cbiAgLy8gZ2V0SGVhZGVyKCk6IHN0cmluZyB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gZ2V0SGVhZGVyYCk7XG4gIC8vICAgcmV0dXJuIHRoaXMuZGF0YS5oZWFkZXI7XG4gIC8vIH0sXG5cbiAgZ2V0VGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICBMb2cubG9nKGBbJHt0aGlzLm5hbWV9XSBnZXRUZW1wbGF0ZWApO1xuICAgIHJldHVybiAnPGRpdj5IZWxsbyB7e3RleHQgfCBzYWZlfX08L2Rpdj4nO1xuICB9LFxuXG4gIGdldFRlbXBsYXRlRGF0YSgpOiBvYmplY3Qge1xuICAgIExvZy5sb2coYFske3RoaXMubmFtZX1dIGdldFRlbXBsYXRlRGF0YWApO1xuICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgfSxcblxuICAvKipcbiAgICogVGhhdCBNYWdpY01pcnJvciBjb3JlIGhhcyB0aGUgYWJpbGl0eSB0byBzZW5kIG5vdGlmaWNhdGlvbnMgdG8gbW9kdWxlcy5cbiAgICogT3IgZXZlbiBiZXR0ZXI6IHRoZSBtb2R1bGVzIGhhdmUgdGhlIHBvc3NpYmlsaXR5IHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0byBvdGhlciBtb2R1bGVzLlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uIFRoZSBub3RpZmljYXRpb24gaWRlbnRpZmllci5cbiAgICogQHBhcmFtIHBheWxvYWQgVGhlIHBheWxvYWQgb2YgYSBub3RpZmljYXRpb24uXG4gICAqIEBwYXJhbSBzZW5kZXIgaGUgc2VuZGVyIG9mIHRoZSBub3RpZmljYXRpb24uIElmIHRoaXMgYXJndW1lbnQgaXMgYHVuZGVmaW5lZGAsIHRoZSBzZW5kZXIgb2YgdGhlIG5vdGlmaWZpY3Rpb24gaXMgdGhlIGNvcmUgc3lzdGVtLlxuICAgKi9cbiAgLy8gbm90aWZpY2F0aW9uUmVjZWl2ZWQobm90aWZpY2F0aW9uOiBzdHJpbmcsIHBheWxvYWQ6IGFueSwgc2VuZGVyPzogYW55KTogdm9pZCB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gbm90aWZpY2F0aW9uUmVjZWl2ZWQgJHtub3RpZmljYXRpb259IGZyb20gc2VuZGVyICR7c2VuZGVyfWApO1xuICAvLyB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIHVzaW5nIGEgbm9kZV9oZWxwZXIsIHRoZSBub2RlIGhlbHBlciBjYW4gc2VuZCB5b3VyIG1vZHVsZSBub3RpZmljYXRpb25zLlxuICAgKiBAcGFyYW0gbm90aWZpY2F0aW9uIFRoZSBub3RpZmljYXRpb24gaWRlbnRpZmllci5cbiAgICogQHBhcmFtIHBheWxvYWQgVGhlIHBheWxvYWQgb2YgYSBub3RpZmljYXRpb24uXG4gICAqL1xuICAvLyBzb2NrZXROb3RpZmljYXRpb25SZWNlaXZlZChub3RpZmljYXRpb246IHN0cmluZywgcGF5bG9hZDogYW55KSB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gc29ja2V0Tm90aWZpY2F0aW9uUmVjZWl2ZWQgJHtub3RpZmljYXRpb259YCk7XG4gIC8vICAgdGhpcy5zZW5kTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgcGF5bG9hZCk7XG4gIC8vIH0sXG5cbiAgLyoqXG4gICAqIFdoZW4gYSBtb2R1bGUgaXMgaGlkZGVuICh1c2luZyB0aGUgbW9kdWxlLmhpZGUoKSBtZXRob2QpLCB0aGUgc3VzcGVuZCgpIG1ldGhvZCB3aWxsIGJlIGNhbGxlZC5cbiAgICogQnkgc3ViY2xhc3NpbmcgdGhpcyBtZXRob2QgeW91IGNhbiBwZXJmb3JtIHRhc2tzIGxpa2UgaGFsdGluZyB0aGUgdXBkYXRlIHRpbWVycy5cbiAgICovXG4gIC8vIHN1c3BlbmQoKTogdm9pZCB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gc3VzcGVuZGApO1xuICAvLyB9LFxuXG4gIC8qKlxuICAgKiBXaGVuIGEgbW9kdWxlIGlzIHJlcXVlc3RlZCB0byBiZSBzaG93biAodXNpbmcgdGhlIG1vZHVsZS5zaG93KCkgbWV0aG9kKSwgdGhlIHJlc3VtZSgpIG1ldGhvZCB3aWxsIGJlIGNhbGxlZC5cbiAgICogQnkgc3ViY2xhc3NpbmcgdGhpcyBtZXRob2QgeW91IGNhbiBwZXJmb3JtIHRhc2tzIHJlc3RhcnRpbmcgdGhlIHVwZGF0ZSB0aW1lcnMuXG4gICAqL1xuICAvLyByZXN1bWUoKTogdm9pZCB7XG4gIC8vICAgTG9nLmxvZyhgWyR7dGhpcy5uYW1lfV0gcmVzdW1lYCk7XG4gIC8vIH0sXG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=